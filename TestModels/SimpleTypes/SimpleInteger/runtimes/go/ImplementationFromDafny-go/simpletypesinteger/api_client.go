// Code generated by smithy-go-codegen DO NOT EDIT.

package simpletypesinteger

import (
	"context"
	"simpletypesintegerinternaldafny"
	"simpletypesintegerinternaldafnytypes"
	"types"
)

type Client struct {
	dafnyClient *simpletypesintegerinternaldafny.SimpleIntegerClient
}

func NewClient(clientConfig types.SimpleIntegerConfig) (*Client, error) {
	var dafnyConfig = SimpleIntegerConfig_Input_ToDafny(clientConfig)
	var dafny_response = simpletypesintegerinternaldafny.Companion_Default___.SimpleInteger(dafnyConfig)
	if dafny_response.Is_Failure() {
		panic("Client construction failed. This should never happen")
	}
	var dafnyClient = dafny_response.Extract().(*simpletypesintegerinternaldafny.SimpleIntegerClient)
	client := &Client{dafnyClient}
	return client, nil
}

func (client *Client) GetInteger(ctx context.Context, params types.GetIntegerInput) (*types.GetIntegerOutput, error) {
	var dafny_request simpletypesintegerinternaldafnytypes.GetIntegerInput = GetInteger_Input_ToDafny(params)
	var dafny_response = client.dafnyClient.GetInteger(dafny_request)

	if dafny_response.Is_Failure() {
		err := dafny_response.Dtor_error().(simpletypesintegerinternaldafnytypes.Error)

		if err.Is_CollectionOfErrors() {
			return nil, CollectionOfErrors_Output_FromDafny(err)
		}
		if err.Is_Opaque() {
			return nil, OpaqueError_Output_FromDafny(err)
		}
	}
	var native_response = GetInteger_Output_FromDafny(dafny_response.Extract().(simpletypesintegerinternaldafnytypes.GetIntegerOutput))
	return &native_response, nil

}

func (client *Client) GetIntegerKnownValueTest(ctx context.Context, params types.GetIntegerInput) (*types.GetIntegerOutput, error) {
	var dafny_request simpletypesintegerinternaldafnytypes.GetIntegerInput = GetIntegerKnownValueTest_Input_ToDafny(params)
	var dafny_response = client.dafnyClient.GetIntegerKnownValueTest(dafny_request)

	if dafny_response.Is_Failure() {
		err := dafny_response.Dtor_error().(simpletypesintegerinternaldafnytypes.Error)

		if err.Is_CollectionOfErrors() {
			return nil, CollectionOfErrors_Output_FromDafny(err)
		}
		if err.Is_Opaque() {
			return nil, OpaqueError_Output_FromDafny(err)
		}
	}
	var native_response = GetIntegerKnownValueTest_Output_FromDafny(dafny_response.Extract().(simpletypesintegerinternaldafnytypes.GetIntegerOutput))
	return &native_response, nil

}
